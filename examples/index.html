<!DOCTYPE html>
<html>
  <head>
    <title>Gridded-glyphmap Example</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <!-- Make sure you put this AFTER Leaflet's CSS -->
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>

    <script src="l.canvaslayer.js"></script>
    <script src="data/data.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <h1>Gridded Glyphmap library</h1>
    <!-- <script src="../dist/leaflet-gridded-glyph.min.js"></script> -->
    <script src="../src/index.js"></script>
    <div id="map"></div>
    <script>
      var map = L.map("map").setView([-7.505, 110.23], 13);
      L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 19,
        attribution:
          '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
      }).addTo(map);

      // Base GeoJSON Layer
      geojsonLayer = L.geoJson(data, {
        pointToLayer: function (feature, latlng) {
          return L.circleMarker(latlng, {
            radius: 8,
            fillColor: "#ff7800",
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.8,
          });
        },
      });
      geojsonLayer.addTo(map);
      map.fitBounds(geojsonLayer.getBounds());

      // Gridded-glyphmap extension layer
      var griddedLayer = new L.GriddedGlyph({
        gridSize: 50,
        padding: 5,
        geojsonLayer: geojsonLayer,
        // customDrawFunction: drawBarCharts,
        barColor: "green",
      });
      griddedLayer.addTo(map);
    </script>
  </body>
</html>
