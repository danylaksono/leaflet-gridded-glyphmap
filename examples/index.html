<!DOCTYPE html>
<html>

<head>
    <title>Gridded-glyphmap Example</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/> <!-- Make sure you put this AFTER Leaflet's CSS -->
     <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
         integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
         crossorigin=""></script> 

    <script src="main.js" type="module"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Gridded Glyphmap library</h1>   
    <div id="map"></div>
    <script>
        var map = L.map('map').setView([-7.505, 110.23], 13);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
}).addTo(map);
  
// load local data
function fetchJSON(url) {
  return fetch(url)
    .then(function(response) {
      return response.json();
    });
};

var data = fetchJSON('data/criminals.geojson')
            .then(function(data) { return data })

geojsonLayer = L.geoJson(data, {
    pointToLayer: function (feature, latlng) {
      return L.circleMarker(latlng, {
        radius: 8,
        fillColor: "#ff7800",
        color: "#000",
        weight: 1,
        opacity: 1,
      fillOpacity: 0.8
    });
  }
});

geojsonLayer.addTo(map);

map.fitBounds(geojsonLayer.getBounds());




    </script>



</body>
</html>